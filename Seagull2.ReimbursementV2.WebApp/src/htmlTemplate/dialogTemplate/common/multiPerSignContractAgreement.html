<div class="staff-service"> 
    <!--选择-->
    <div class="appil-container" ng-show="query.readOnly !== true">
        <h4 class="control-heading bg-info"><i class="glyphicon glyphicon-list-alt"></i>&nbsp;所属合约</h4>
        <div class="form-inline clearfix">
            <div class="col-xs-12 col-sm-6 col-md-6 form-group">
                <label class="col-xs-6 control-label" title="项目" style="text-align:center">项目</label>
                <div class="col-xs-6 form-group baseifo-input ">
                    <select sog-valide-status="项目" class="meeting" ng-model="query.projectCode"
                            ng-options="type.code as type.name for type in projectCollection"
                            ng-selected="type.code == query.projectCode"
                            ng-change="projectChange()">
                        <option value="">请选择</option>
                    </select>
                </div>
            </div>
            <div class="col-xs-12 col-sm-6 col-md-6 form-group">
                <label class="col-xs-6 control-label" title="期区" style="text-align:center">期区</label>
                <div class="col-xs-6 form-group baseifo-input ">
                    <select sog-valide-status="期区" class="meeting" ng-model="query.stageAreaCode"
                            ng-options="type.code as type.name for type in stageAreaCollection"
                            ng-selected="type.code == query.stageAreaCode">
                        <option value="">请选择</option>
                    </select>
                </div>
            </div>
        </div>
        <div class="form-inline clearfix">
            <div class="table-responsive" style="max-height: 300px;overflow: auto;">
                <table class="table table-hover table-bordered table-striped table-condensed">
                    <thead>
                        <tr>
                            <td class="table-thead" style="text-align:center;">
                                <input id="flag" type="checkbox" ng-checked="sel" ng-model="query.select_all" ng-change="selectAll(query.select_all)">
                            </td>
                            <th class="table-thead" style="text-align:center;">序号</th>
                            <th class="table-thead" style="text-align:center;">项目</th>
                            <th class="table-thead" style="text-align:center;">期区</th>
                            <th class="table-thead" style="text-align:center;">合约类型</th>
                            <th class="table-thead" style="text-align:center;">合约名称</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="text-center" ng-repeat="item in supplierAgreementList"
                            ng-if="(!query.projectCode || item.projectCode===query.projectCode) && (!query.stageAreaCode || item.stageAreaCode===query.stageAreaCode)">
                            <td style="text-align:center;vertical-align:middle;">
                                <input type="checkbox" ng-model="item.checked" ng-change="selectOne(item.checked)" ng-disabled="item.disabled">
                            </td>
                            <td style="text-align:center;">
                                {{$index+1}}
                            </td>
                            <td style="text-align:left;">
                                {{item.projectName}}
                            </td>
                            <td style="text-align:left;">
                                {{item.stageAreaName}}
                            </td>
                            <td style="text-align:left;">
                                {{item.contractAgreementTypeName}}
                            </td>
                            <td style="text-align:left;">
                                {{item.contractAgreementName}}
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <!--查看-->
    <div class="appil-container" ng-show="query.readOnly === true">
        <h4 class="control-heading bg-info"><i class="glyphicon glyphicon-list-alt"></i>&nbsp;所属合约</h4>
        <div class="form-inline clearfix">
            <div class="table-responsive" style="max-height: 300px;overflow: auto;">
                <table class="table table-hover table-bordered table-striped table-condensed">
                    <thead>
                        <tr>
                            <th class="table-thead" style="text-align:center;">序号</th>
                            <th class="table-thead" style="text-align:center;">项目</th>
                            <th class="table-thead" style="text-align:center;">期区</th>
                            <th class="table-thead" style="text-align:center;">合约名称</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="text-center" ng-repeat="item in supplierAgreementList"
                            ng-if="(!query.projectCode || item.projectCode===query.projectCode) && (!query.stageAreaCode || item.stageAreaCode===query.stageAreaCode)">
                            <td style="text-align:center;">
                                {{$index+1}}
                            </td>
                            <td style="text-align:left;">
                                {{item.projectName}}
                            </td>
                            <td style="text-align:left;">
                                {{item.stageAreaName}}
                            </td>
                            <td style="text-align:left;">
                                {{item.contractAgreementName}}
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
<div class="modal-footer">
    <button type="button" class="btn btn-default" ng-click="closeThisDialog();">取消</button>
    <button type="button" class="btn btn-primary" ng-click="selectedOk();" ng-show="query.readOnly !== true">确定</button>
</div>
