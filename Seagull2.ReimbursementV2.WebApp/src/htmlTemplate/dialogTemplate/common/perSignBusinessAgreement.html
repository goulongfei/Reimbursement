<div class="staff-service">
    <!--选择-->
    <div class="appil-container" ng-show="readOnly !== true">
        <h4 class="control-heading bg-info"><i class="glyphicon glyphicon-list-alt"></i>&nbsp;所属合约</h4>
        <div class="form-inline clearfix">
            <div class="col-xs-12 col-sm-6 col-md-6 form-group">
                <label class="col-xs-6 control-label" title="项目" style="text-align:center">项目</label>
                <div class="col-xs-6 form-group baseifo-input ">
                    <select sog-valide-status="项目" class="meeting" ng-model="projectCode"
                            ng-options="type.code as type.name for type in projectCollection"
                            ng-selected="type.code == projectCode" ng-change="projectChange(projectCode)">
                        <option value="">请选择</option>
                    </select>
                </div>
            </div>
        </div>
        <div class="form-inline clearfix"> 
            <div class="table-responsive" style="max-height: 300px;overflow: auto;">
                <table class="table table-hover table-bordered table-striped table-condensed">
                    <thead>
                        <tr>
                            <td class="table-thead" style="text-align:center;">
                                <input id="flag" type="checkbox" ng-checked="sel" ng-model="select_all" ng-change="selectAll(select_all)">
                            </td>
                            <th class="table-thead" style="text-align:center;">序号</th>
                            <th class="table-thead" style="text-align:center;">项目</th>
                            <th class="table-thead" style="text-align:center;">合约名称</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="text-center" ng-repeat="item in agreementData" ng-if="item.projectCode === projectCode">
                            <td style="text-align:center;vertical-align:middle;">
                                <input type="checkbox" ng-model="item.selected" ng-change="selectOne(item.selected)" ng-disabled="item.disabled">
                            </td>
                            <td style="text-align:center;">
                                {{$index+1}}
                            </td>
                            <td style="text-align:center;">
                                {{item.projectName}}
                            </td>
                            <td style="text-align:center;">
                                {{item.contractAgreementName}}
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <!--查看-->
    <div class="appil-container" ng-show="readOnly === true">
        <div class="form-inline clearfix">
            <div class="table-responsive" style="max-height: 300px;overflow: auto;">
                <table class="table table-hover table-bordered table-striped table-condensed">
                    <thead>
                        <tr>
                            <th class="table-thead" style="text-align:center;">序号</th>
                            <th class="table-thead" style="text-align:center;">项目</th>
                            <th class="table-thead" style="text-align:center;">合约名称</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="text-center" ng-repeat="item in agreementData">
                            <td style="text-align:center;">
                                {{$index+1}}
                            </td>
                            <td style="text-align:center;">
                                {{item.projectName}}
                            </td>
                            <td style="text-align:center;">
                                {{item.contractAgreementName}}
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
<div class="modal-footer" >
    <button type="button" class="btn btn-default" ng-click="closeThisDialog();">取消</button>
    <button type="button" class="btn btn-primary" ng-click="selectedOk();" ng-show="readOnly !== true">确定</button>
</div>
