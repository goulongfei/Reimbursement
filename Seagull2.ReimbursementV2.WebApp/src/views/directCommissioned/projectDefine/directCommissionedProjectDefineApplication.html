<div class="staff-service">

    <!--工具栏开始、不打印, 修改wf-tool-bars-url-base -->
    <div wf-tool-bars="wfOperateOpts" wf-tool-bars-url-base="/DirectCommissionedProjectDefineWf" wf-collect-data-fn="collectData"></div>
    <!--工具栏结束-->
    <!--流程导航开始-->
    <div ng-include="'views/common/flow-nav.html'"></div>
    <!--流程导航结束-->
    <!--表单正文开始，打印-->
    <div class="container appil-container">
        <!--页面标题开始-->
        <div class="page-header clearfix">
            <span>直接委托(项目定义服务类)</span>
            <small>单据编号：{{viewModel.flowNumber}}</small>
        </div>
        <!--页面标题结束-->
        <!--信息项组标题-->
        <h4 class="control-heading bg-info"><i class="glyphicon glyphicon-list-alt"></i>采购信息</h4>
        <div class="form-inline">
            <div class="col-xs-12 form-group">
                <label class="col-xs-6 col-sm-3  col-md-2 control-label" title="采购名称" style="text-align:right">
                    采购名称
                    <span style="color:red;">*</span>
                </label>
                <div class="col-xs-6 col-sm-9 col-md-10  form-group baseifo-input">
                    <input sog-valide-status="采购名称" type="text" class="meeting" ng-model="viewModel.purchaseBase.purchaseName" placeholder="格式提示：事业部+项目+期区+事件概述，不能大于30个字符">
                </div>
            </div>
            <div class="clearfix visible-xs-block"></div>
            <div class="col-xs-12 col-sm-6 col-md-4 form-group">
                <label ng-if="!viewModel.isUseProject" class="text-right col-xs-6 control-label" title="项目名称">项目名称</label>
                <label ng-if="viewModel.isUseProject" class="text-right col-xs-6 control-label" title="合约的列支项目">项目名称</label>
                <div class="col-xs-6 form-group baseifo-input">
                    <div rc-select-project opts="baseInfo.projectOpts"></div>
                </div>
            </div>
            <div class="col-xs-12 col-sm-6 col-md-4 form-group">
                <label ng-if="!viewModel.isUseProject" class="text-right col-xs-6 control-label" title="期区">期区<span style="color:red;">*</span></label>
                <label ng-if="viewModel.isUseProject" class="text-right col-xs-6 control-label" title="合约的列支期区">期区<span style="color:red;">*</span></label>
                <div class="col-xs-6 form-group baseifo-input ">
                    <select ng-if="!viewModel.isAllowMultipleAreaAgreement"
                            sog-valide-status="期区" class="meeting" ng-model="viewModel.purchaseOfProDefine.stageAreaCode"
                            ng-options="type.code as type.name for type in viewModel.option.stageArea"
                            ng-change="baseInfo.stageAreaChange()">
                        <option value="">请选择</option>
                    </select>
                    <div ng-if="viewModel.isAllowMultipleAreaAgreement" select-multiple-stage-area opts="baseInfo.stageAreaOpts" data="viewModel.stageAreaScopeList"></div>
                </div>
            </div>
            <div class="clearfix"></div>

            <div class="col-xs-12 col-sm-6 col-md-4 form-group">
                <label class="col-xs-6 control-label text-right" title="法人公司">法人公司<span style="color:red;">*</span></label>
                <div class="col-xs-6 form-group baseifo-input" sog-valide-status="法人公司">
                    <div select-corporation opts="baseInfo.corporationOpts" data="viewModel.corporationScopeList"></div>
                </div>
            </div>
            <div class="col-xs-12 col-sm-6 col-md-4 form-group">
                <label ng-if="!viewModel.isUseCostCenter" class="col-xs-6 control-label text-right" title="记账公司">记账公司<span style="color:red;">*</span></label>
                <label ng-if="viewModel.isUseCostCenter" class="col-xs-6 control-label text-right" title="合同的列支记账公司">记账公司<span style="color:red;">*</span></label>
                <div class="col-xs-6 form-group baseifo-input">
                    <select sog-valide-status="记账公司" class="meeting" ng-model="viewModel.purchaseOfProDefine.chargeCompanyCode"
                            ng-options="type.code as type.name for type in viewModel.option.chargeCompany"
                            ng-change="baseInfo.chargeCompanyChange()">
                        <option value="">请选择</option>
                    </select>
                </div>
            </div>
            <div class="col-xs-12 col-sm-6 col-md-4 form-group">
                <label ng-if="!viewModel.isUseCostCenter" class="col-xs-6 control-label text-right" title="成本中心">成本中心<span style="color:red;">*</span></label>
                <label ng-if="viewModel.isUseCostCenter" class="col-xs-6 control-label text-right" title="合同的列支成本中心">成本中心<span style="color:red;">*</span></label>
                <div class="col-xs-6 form-group baseifo-input ">
                    <select sog-valide-status="成本中心" class="meeting" ng-model="viewModel.purchaseOfProDefine.costCenterCode"
                            ng-options="type.code as type.name for type in viewModel.option.costCenter"
                            ng-selected="type.code == viewModel.purchaseOfProDefine.costCenterCode"
                            ng-change="baseInfo.costCenterChange()">
                        <option value="">请选择</option>
                    </select>
                </div>
            </div>
            <div class="clearfix visible-xs-block"></div>

            <div class="col-xs-12 col-sm-6 col-md-4 form-group">
                <label class="col-xs-6 control-label" title="供应商类别" style="text-align:right">
                    供应商类别
                    <span style="color:red;">*</span>
                </label>
                <div class="col-xs-6 form-group baseifo-input" sog-valide-status="供应商类别">
                    <span supplier-category data="viewModel.industryDomainScopeList" opts="baseInfo.tradeCatagoryOpts"></span>
                </div>
            </div>
            <div class="col-xs-12 form-group">
                <label class="col-xs-6 col-sm-6 col-md-2 control-label" title="建设地点" style="text-align:right">
                    建设地点
                    <span style="color:red;">*</span>
                </label>
                <div sog-valide-status="地区" class="col-sm-3 col-sm-3 col-md-4 form-group baseifo-input">
                    <span region-input="viewModel.purchaseOfProDefine.cityInput" opts="baseInfo.regionOpts"></span>
                </div>
                <div class="col-xs-3 col-sm-3 col-md-6 form-group baseifo-input">
                    <input sog-valide-status="建设地点" type="text" ng-model="viewModel.purchaseOfProDefine.buildDetailAddress" class="form-control meeting" />
                </div>
            </div>
            <div class="clearfix"></div>
            <div class="col-xs-12 col-sm-6 col-md-4 form-group" ng-show="viewModel.isAdmin===true">
                <label class="col-xs-6 control-label" title="本次采购成本目标" style="text-align:right">
                    本次采购成本目标
                    <span style="color:red;">*</span>
                </label>
                <div class="col-xs-6 form-group baseifo-input ">
                    <span>{{viewModel.purchaseOfProDefine.purchaseCostTargetAmount | number:2}}</span>
                </div>
            </div>
            <div class="col-xs-12 col-sm-6 col-md-4 form-group" ng-if="viewModel.isAdmin">
                <label class="col-xs-6 control-label" title="本次直接委托金额" style="text-align:right">
                    本次直接委托金额
                </label>
                <div class="col-xs-6 form-group baseifo-input ">
                    <span>{{viewModel.purchaseBase.purchaseAmount | number:2}}</span>
                </div>
            </div>
            <div class="col-xs-12 col-sm-6 col-md-4 form-group">
                <label class="col-xs-6 control-label" title="直接委托理由" style="text-align:right">
                    直接委托理由
                    <span style="color:red;">*</span>
                </label>
                <div class="col-xs-6 form-group baseifo-input ">
                    <select sog-valide-status="直接委托理由" class="meeting" ng-model="viewModel.purchaseOfProDefine.directDelegationReasonCode"
                            ng-options="type.code as type.name for type in viewModel.option.directDelegationReason"
                            ng-selected="type.code == viewModel.purchaseOfProDefine.directDelegationReasonCode"
                            ng-change="baseInfo.directDelegationReasonChange()">
                        <option value="">请选择</option>
                    </select>
                </div>
            </div>
            <div class="clearfix"></div>
            <div class="col-xs-12 col-sm-6 col-md-4 form-group">
                <label class="col-xs-6 control-label" title="合同价格形式" style="text-align:right">
                    合同价格形式
                    <span style="color:red;">*</span>
                </label>
                <div class="col-xs-6 form-group baseifo-input ">
                    <select sog-valide-status="合同价格形式" class="meeting" ng-model="viewModel.purchaseOfProDefine.contractPriceTypeCode"
                            ng-options="type.code as type.name for type in viewModel.option.contractPriceType"
                            ng-selected="type.code == viewModel.purchaseOfProDefine.contractPriceTypeCode"
                            ng-change="baseInfo.contractPriceTypeChange()">
                        <option value="">请选择</option>
                    </select>
                </div>
            </div>
            <div class="col-xs-12 col-sm-6 col-md-4 form-group">
                <label class="col-xs-6 control-label" title="计价方式" style="text-align:right">
                    计价方式
                    <span style="color:red;">*</span>
                </label>
                <div class="col-xs-6 form-group baseifo-input ">
                    <select sog-valide-status="计价方式" class="meeting" ng-model="viewModel.purchaseOfProDefine.valuationWayCode"
                            ng-options="type.code as type.name for type in viewModel.option.valuationWay"
                            ng-selected="type.code == viewModel.purchaseOfProDefine.valuationWayCode"
                            ng-change="baseInfo.valuationWayChange()">
                        <option value="">请选择</option>
                    </select>
                </div>
            </div>
            <div class="clearfix"></div>
            <div class="col-xs-12 col-sm-6 col-md-4 form-group">
                <label class="col-xs-6 control-label" title="建筑面积" style="text-align:right">
                    建筑面积（㎡）
                    <span style="color:red;">*</span>
                </label>
                <div class="col-xs-6 form-group baseifo-input ">
                    <input sog-valide-status="建筑面积" type="text" class="meeting input-type ng-pristine ng-valid text-right" wf-money opts="baseInfo.moneyopts" ng-model="viewModel.purchaseOfProDefine.buildingArea" placeholder="请输入">
                </div>
            </div>
            <div class="col-xs-12 col-sm-6 col-md-4 form-group">
                <label class="col-xs-6 control-label" title="单价" style="text-align:right">
                    单价（元）
                </label>
                <div class="col-xs-6 form-group baseifo-input" opts="baseInfo.optsInt">
                    <input type="text" class="meeting input-type ng-pristine ng-valid text-right" wf-money opts="baseInfo.moneyopts" ng-model="viewModel.purchaseOfProDefine.price" placeholder="请输入">
                </div>
            </div>
            <div class="col-xs-12 col-sm-6 col-md-4 form-group">
                <label class="col-xs-6 control-label" title="建设单方成本目标" style="text-align:right">
                    建设单方成本目标
                    <span style="color:red;">*</span>
                </label>
                <div class="col-xs-6 form-group baseifo-input" opts="baseInfo.optsInt">
                    <input sog-valide-status="建设单方成本目标" type="text" class="meeting input-type ng-pristine ng-valid text-right" wf-money opts="baseInfo.moneyopts" ng-model="viewModel.purchaseOfProDefine.buildingCostTargetPerArea" placeholder="请输入">
                </div>
            </div>
            <div class="col-xs-12 form-group">
                <label class="col-xs-6 col-sm-3 col-md-2 control-label" title="本次采购范围和内容" style="text-align:right">
                    本次采购范围和内容
                    <span style="color:red;">*</span>
                </label>
                <div sog-valide-status="本次采购范围和内容" class="col-xs-6 col-sm-9 col-md-10 form-group baseifo-input">
                    <textarea type="text" class="meeting" style="height:60px;" ng-model="viewModel.purchaseOfProDefine.purchaseContent"></textarea>
                </div>
            </div>
            <div class="clearfix visible-xs-block"></div>
            <div class="col-xs-12 form-group">
                <label class="col-xs-6 col-sm-3 col-md-2 control-label" title="付款方式" style="text-align:right">
                    付款方式
                    <span style="color:red;">*</span>
                </label>
                <div sog-valide-status="付款方式描述" class="col-xs-6 col-sm-9 col-md-10 form-group baseifo-input">
                    <textarea type="text" class="meeting" style="height:60px;" ng-model="viewModel.purchaseOfProDefine.paymentWayDescribe"></textarea>
                </div>
            </div>
            <div class="clearfix"></div>

            <div class="col-xs-12 col-sm-6 col-md-4 form-group">
                <label class="col-xs-6 control-label text-right" title="支出类型">支出类型<span style="color:red;">*</span></label>
                <div class="col-xs-6 form-group baseifo-input">
                    <select sog-valide-status="支出类型" style="width:100%;" class="meeting" ng-model="viewModel.purchaseBase.expenditureTypeCode" ng-options="p.code as p.name for p in viewModel.option.expenditureTypeList" ng-selected="p.code == viewModel.purchaseBase.expenditureTypeCode" ng-change="baseInfo.expenditureTypeChange();">
                        <option value="">--请选择--</option>
                    </select>
                </div>
            </div>
            <div class="col-xs-12 col-sm-6 col-md-4 form-group" ng-if="viewModel.isUseProject">
                <label class="col-xs-6 control-label text-right" title="使用项目">使用项目<span style="color:red;">*</span></label>
                <div class="col-xs-6 form-group baseifo-input text-right">
                    <div rc-select-project opts="baseInfo.useProjectOpts"></div>
                </div>
            </div>
            <div class="col-xs-12 col-sm-6 col-md-4 form-group" ng-if="viewModel.isUseProject">
                <label class="text-right col-xs-6 control-label" title="使用期区">使用期区<span style="color:red;">*</span></label>
                <div class="col-xs-6 form-group baseifo-input ">
                    <select sog-valide-status="使用期区" class="meeting" ng-model="viewModel.purchaseBase.useStageAreaCode"
                            ng-options="type.code as type.name for type in viewModel.option.useStageArea"
                            ng-change="baseInfo.useStageAreaChange()">
                        <option value="">请选择</option>
                    </select>
                </div>
            </div>

            <div class="col-xs-12 col-sm-6 col-md-4 form-group" ng-if="viewModel.isUseCostCenter">
                <label class="col-xs-6 control-label" title="使用记账公司" style="text-align:right">使用记账公司<span style="color:red;">*</span></label>
                <div class="col-xs-6 form-group baseifo-input">
                    <div select-chargecompany opts="baseInfo.useChargeCompanyOpts" data="viewModel.useNcCorporation"></div>
                </div>
            </div>
            <div class="col-xs-12 col-sm-6 col-md-4 form-group" ng-if="viewModel.isUseCostCenter">
                <label class="col-xs-6 control-label" title="使用成本中心" style="text-align:right">使用成本中心<span style="color:red;">*</span></label>
                <div class="col-xs-6 form-group baseifo-input">
                    <select style="width:100%;" class="meeting" ng-click="validOpts('使用成本中心')" ng-model="viewModel.purchaseBase.useCostCenterCode" ng-change="baseInfo.useCostCenterChange();" ng-options="p.code as p.name for p in  viewModel.option.useCostCenterList" ng-selected="p.code == viewModel.purchaseBase.useCostCenterCode">
                        <option value="">--请选择--</option>
                    </select>
                </div>
            </div>
            <div class="clearfix"></div>
        </div>
        <div class="clearfix visible-xs-block"></div>
        <div class="clearfix"></div>
        <!--合约规划标题-->
        <h4 class="control-heading bg-info">
            <i class="glyphicon glyphicon-list-alt"></i> 合约规划<span style="color:red;">*</span>
            <small style="color:red;">提示：采购开始后合约规划金额无法调小，如需调小请在采购开始前调整并完成审批。</small>
        </h4>
        <!--合约规划内容-->
        <div contract-agreement-split-info opts="baseInfo.contractAgreementOpts" data="viewModel.contractAgreementScopeList"></div>
        <div class="clearfix visible-xs-block visible-sm-block"></div>
        <div class="clearfix"></div>
        <!--委托信息标题-->
        <h4 class="control-heading bg-info">
            <i class="glyphicon glyphicon-list-alt"></i> 委托信息
            <small><span style="color:red;">&nbsp;&nbsp;提示：下表每行对应一个合同，如需签订多个合同，请添加多行。</span></small>
        </h4>
        <!--委托信息内容-->
        <div purchase-delegation-info data="viewModel.purchaseDelegationInfoList" opts="baseInfo.delegationOpts"></div>
        <div class="clearfix visible-xs-block visible-sm-block"></div>
        <div class="clearfix"></div>
        <!--负面清单标题-->
        <h4 class="control-heading bg-info"><i class="glyphicon glyphicon-list-alt"></i> 负面清单</h4>
        <!--负面清单内容-->
        <div negative-list data="viewModel.negativeList" read-only="false"></div>
        <div class="clearfix visible-xs-block visible-sm-block"></div>
        <div class="clearfix"></div>
        <!--其他附件标题-->
        <h4 class="control-heading bg-info"><i class="glyphicon glyphicon-list-alt"></i> 其他附件</h4>
        <!--其他附件内容-->
        <div class="form-inline">
            <div class="col-xs-12 col-sm-6 col-md-4 form-group">
                <label class="col-xs-6 control-label" title="直接委托附件">直接委托附件</label>
                <div class="col-xs-6 form-group baseifo-input" sog-valide-status="直接委托附件">
                    <span wf-uploader files="viewModel.reportFile.clientFileInformationList" opts="baseInfo.reportFileOpts" ready="baseInfo.reportFileReady" read-only="false"></span>
                </div>
            </div>
            <div class="col-xs-12 col-sm-6 col-md-4 form-group">
                <label class="col-xs-6 control-label" title="其他附件">其他附件</label>
                <div class="col-xs-6 form-group baseifo-input">
                    <span wf-uploader files="viewModel.otherFile.clientFileInformationList" opts="baseInfo.otherFileOpts" ready="baseInfo.otherFileReady" read-only="false"></span>
                </div>
            </div>
        </div>
        <div class="clearfix visible-xs-block visible-sm-block"></div>
        <div class="clearfix"></div>

        <!--传阅标题-->
        <h4 class="control-heading bg-info"><i class="glyphicon glyphicon-list-alt"></i> 传阅</h4>
        <!--传阅内容-->
        <div class="form-inline">
            <div class="col-xs-12 col-sm-12 col-md-12 form-group">
                <label class="col-xs-6 col-sm-6 col-md-2 control-label" title="传阅人">传阅人</label>
                <div class="col-xs-6 col-sm-6 col-md-10 form-group baseifo-input" sog-valide-status="传阅人">
                    <span sog-ogu-input="viewModel.circularizePersons" opts="userOpts"></span>
                </div>
            </div>
        </div>
        <div class="clearfix visible-xs-block visible-sm-block"></div>
        <div class="clearfix"></div>
        <!-- 审批意见列表-->
        <h4 class="control-heading bg-info"><i class="glyphicon glyphicon-list-alt"></i> 评论列表</h4>
        <div class="form-inline">
            <div class="form-inline">
                <span sog-comment="opinions"></span>
            </div>
            <div class="clearfix visible-xs-block"></div>
            <div class="clearfix"></div>
        </div>
        <h4 class="control-heading bg-info" ng-show="isOpinionsShow"><i class="glyphicon glyphicon-list-alt"></i> 审批</h4>
        <div class="form-inline" ng-show="isOpinionsShow">
            <input wf-opinions opinions-opts="opinionOpts" opinions="opinions" predefined-opinions="predefinedOpinions" user-predefined-opinions="userPredefinedOpinions"
                   current-opinion="currentOpinion" url-base="/DirectCommissionedProjectDefineWf" />
            <div class="clearfix"></div>
        </div>
        <!--表单正文结束-->
        <!--页脚开始，不打印-->
        <div ng-include="'views/common/foot-copyright.html'"></div>
        <!--页脚结束-->
        <!--右侧通栏开始，不打印-->
        <div ng-include="'views/common/right-navigator.html'"></div>
    </div>
</div>