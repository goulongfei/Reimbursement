<style>
    .cursor {
        cursor: pointer;
    }
</style>
<div wf-title="title"></div>
<div class="staff-service">
    <div class="staff-service">
        <!--工具栏开始、不打印, 修改wf-tool-bars-url-base -->
        <div wf-tool-bars="wfOperateOpts" wf-tool-bars-url-base="/DirectCommissionedEngineeringAuditApplicationWf" wf-collect-data-fn="collectData"></div>
        <!--工具栏结束-->
        <!--流程导航开始-->
        <div ng-include="'views/common/flow-nav.html'"></div>
        <!--流程导航结束-->
        <!--表单正文开始，打印-->
        <div class="container appil-container">

            <!--页面标题开始-->
            <div class="page-header clearfix">
                <span>{{title}}</span>
                <small>单据编号：{{viewModel.flowNumber}}</small>
            </div>
            <!--页面标题结束-->
            <!--采购基本信息标题-->
            <h4 class="control-heading bg-info"><i class="glyphicon glyphicon-list-alt"></i> 采购基本信息</h4>
            <!--采购基本信息内容-->
            <div ng-include="'views/directCommissioned/engineering/htmlTemplate/directCommissionedEngineeringBaseInfo.html'"></div>
            <div class="clearfix visible-xs-block visible-sm-block"></div>
            <div class="clearfix"></div>

            <!--委托信息标题-->
            <h4 class="control-heading bg-info"><i class="glyphicon glyphicon-list-alt"></i> 委托信息</h4>
            <!--委托信息内容-->
            <div purchase-delegation-info data="viewModel.purchaseDelegationInfoList" opts="settings.delegationOpts" readonly="true"
                 price-file="viewModel.pirceFile"></div>
            <div class="clearfix visible-xs-block visible-sm-block"></div>
            <div class="clearfix"></div>

            <!--预算审核信息标题-->
            <h4 class="control-heading bg-info"><i class="glyphicon glyphicon-list-alt"></i> 预算审核信息</h4>
            <!--预算审核信息内容-->
            <div ng-include="'views/directCommissioned/engineering/htmlTemplate/directCommissionedEngineeringInitialAudit.html'"></div>
            <div class="clearfix visible-xs-block visible-sm-block"></div>
            <div class="clearfix"></div>

            <!--预算资料清单标题-->
            <h4 class="control-heading bg-info"><i class="glyphicon glyphicon-list-alt"></i> 预算资料</h4>
            <!--预算资料内容-->
            <input type="button" name="name" value="添加+" class="btn btn-info" ng-click="materialMedia.addItem()" />
            <input type="button" name="name" value="删除-" class="btn btn-danger" ng-click="materialMedia.deleteItem()" />
            <div class="form-inline">
                <table class="table table-striped  table-bordered table-responsive" sog-valide-status="预算资料">
                    <thead>
                        <tr>
                            <th class="text-center">
                                <input type="checkbox" ng-model="materialMedia.isCheckAll" ng-click="materialMedia.checkAll()" />
                            </th>
                            <th class="text-center">序号</th>
                            <th class="text-center">资料名称</th>
                            <th class="text-center">资料类型</th>
                            <th class="text-center">详细文件</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="obj in viewModel.materialMediumFileList track by $index">
                            <!--选择-->
                            <td class="text-center">
                                <input type="checkbox" ng-model="obj.checked" />
                            </td>
                            <!--序号-->
                            <td class="text-center">{{$index+1}}</td>
                            <!--资料名称-->
                            <td class="text-left">
                                <input sog-valide-status="预算资料第{{$index+1}}行，资料名称"
                                       type="text" ng-model="obj.materialName" class="form-control meeting text-left" />
                            </td>
                            <!--资料类型-->
                            <td class="text-left">
                                <select sog-valide-status="预算资料第{{$index+1}}行，资料类型" class="meeting" ng-model="obj.materialMediumTypeCode"
                                        ng-options="type.code as type.name for type in viewModel.option.materialMediumType">
                                    <option value="">请选择</option>
                                </select>
                            </td>
                            <!--详细文件-->
                            <td class="text-left">
                                <div sog-valide-status="预算资料第{{$index+1}}行，详细文件" ng-show="obj.materialMediumTypeCode>'0'">
                                    <span ng-show="obj.materialMediumTypeCode==viewModel.materialMediumPaperTypeCode">无需上传</span>
                                    <span ng-show="obj.materialMediumTypeCode!=viewModel.materialMediumPaperTypeCode">
                                        <span wf-uploader files="obj.clientFileInformationList" opts="materialMediaFileOpts" ready="obj.fileReady" read-only="false"></span>
                                    </span>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="clearfix visible-xs-block visible-sm-block"></div>
            <div class="clearfix"></div>

            <!--其他附件标题-->
            <h4 class="control-heading bg-info"><i class="glyphicon glyphicon-list-alt"></i> 其他附件</h4>
            <!--其他附件内容-->
            <div ng-include="'views/directCommissioned/engineering/htmlTemplate/directCommissionedEngineeringOtherInfo.html'"></div>

            <div class="clearfix visible-xs-block visible-sm-block"></div>
            <div class="clearfix"></div>

            <!-- 评论列表-->
            <h4 class="control-heading bg-info"><i class="glyphicon glyphicon-list-alt"></i> 评论列表</h4>
            <div class="form-inline">
                <div class="form-inline">
                    <span sog-comment="opinions"></span>
                </div>
                <div class="clearfix visible-xs-block"></div>
                <div class="clearfix"></div>
            </div>
            <!-- 审批意见列表-->
            <h4 class="control-heading bg-info"><i class="glyphicon glyphicon-list-alt"></i> 审批</h4>
            <div class="form-inline">
                <span sog-simple-opinions="opinions"></span>
                <div class="clearfix"></div>
            </div>
        </div>
        <!--表单正文结束-->
        <!--页脚开始，不打印-->
        <div ng-include="'views/common/foot-copyright.html'"></div>
        <!--页脚结束-->
        <!--右侧通栏开始，不打印-->
        <div ng-include="'views/common/right-navigator.html'"></div>
    </div>
</div>  